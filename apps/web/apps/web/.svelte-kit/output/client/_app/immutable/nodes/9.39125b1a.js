import{a as r,f as l,t as P,c as Z}from"../chunks/1f615a2c.js";import{p as wr,a as Lr,i as e,o as rr,c as s,f as w,n as L,s as a,t as T,r as o,l as q,m as er}from"../chunks/8b0cb860.js";import{s as D}from"../chunks/63f41f2c.js";import{i as x}from"../chunks/c17651b9.js";import{c as A}from"../chunks/c1381360.js";import{r as Tr,s as Ar,a as vr}from"../chunks/31bcfbfc.js";import{p as zr}from"../chunks/72de938e.js";import{a as Sr}from"../chunks/fb331d7f.js";import{B as tr}from"../chunks/d6fb44ac.js";import{C as Br}from"../chunks/0eebc8ab.js";import{C as Ir}from"../chunks/635ea594.js";import{C as Rr,a as Yr,b as jr}from"../chunks/34ef69f1.js";import{C as Er}from"../chunks/48d1c122.js";import{L as Qr,I as qr}from"../chunks/4e497c6c.js";import{a as Dr}from"../chunks/b1448760.js";var Fr=l("<!> <!>",1),Gr=l('<p class="text-muted-foreground">Loading...</p>'),Hr=l('<p class="text-destructive">Phrase not found</p>'),Jr=l('<div class="space-y-4 text-left"><div class="space-y-2"><!> <!></div> <div class="flex gap-2"><!> <!></div></div>'),Kr=l('<p class="mt-2 text-sm font-medium text-green-600 dark:text-green-400">Correct!</p>'),Mr=l(`<p class="mt-2 text-sm text-orange-600 dark:text-orange-400">Let's see the correct answer...</p>`),Nr=l('<div class="space-y-4"><div><p class="info-kicker">Your Answer</p> <p class="mt-2 text-xl font-semibold"> </p> <!></div> <!></div>'),Or=l('<p class="mt-2 text-sm font-medium text-green-600 dark:text-green-400">Correct!</p>'),Ur=l('<div><p class="info-kicker">Your Answer</p> <p class="mt-2 text-xl font-semibold"> </p> <!></div>'),Vr=l('<div class="space-y-4"><!> <div class="border-2 border-primary bg-primary/5 p-6"><p class="info-kicker">Correct Translation</p> <p class="mt-2 text-xl font-semibold text-primary"> </p></div></div>'),Wr=l('<div class="border border-border/60 bg-muted/60 p-6"><p class="info-kicker">English</p> <p class="mt-2 text-xl font-semibold"> </p></div> <!>',1),Xr=l('<a class="meta-text underline">Back to Sessions</a>'),Zr=l("<!> <!> <!>",1),re=l('<div class="page-shell page-shell--compact flex min-h-[80vh] flex-col items-center justify-center"><!></div>');function ge(pr,cr){wr(cr,!0);const mr=rr(()=>zr.params.id),g=Dr(Sr.phrases.get,()=>({id:e(mr)}));let m=er(""),F=er(!1),K=er(!1);function ar(){q(F,!0)}function fr(){q(K,!0)}function sr(N){return N.toLowerCase().trim().replace(/[.,!?;:'"]/g,"")}const z=rr(()=>g.data&&e(F)?sr(e(m))===sr(g.data.translation):!1);var M=re(),_r=s(M);A(_r,()=>Br,(N,ur)=>{ur(N,{class:"w-full border border-border/60 bg-background/85 backdrop-blur-sm",children:(gr,ee)=>{var or=Zr(),lr=w(or);A(lr,()=>Rr,(S,B)=>{B(S,{class:"text-center",children:(I,nr)=>{var f=Fr(),b=w(f);A(b,()=>Yr,(R,n)=>{n(R,{class:"text-2xl",children:(_,U)=>{L();var Y=P("Time to Recall!");r(_,Y)},$$slots:{default:!0}})});var O=a(b,2);A(O,()=>jr,(R,n)=>{n(R,{children:(_,U)=>{L();var Y=P("Can you remember the translation?");r(_,Y)},$$slots:{default:!0}})}),r(I,f)},$$slots:{default:!0}})});var ir=a(lr,2);A(ir,()=>Ir,(S,B)=>{B(S,{class:"space-y-6 text-center",children:(I,nr)=>{var f=Z(),b=w(f);{var O=n=>{var _=Gr();r(n,_)},R=n=>{var _=Z(),U=w(_);{var Y=$=>{var G=Hr();r($,G)},br=$=>{var G=Wr(),V=w(G),dr=a(s(V),2),$r=s(dr,!0);o(dr),o(V);var hr=a(V,2);{var kr=h=>{var k=Jr(),j=s(k),H=s(j);Qr(H,{for:"attempt",children:(t,u)=>{L();var c=P("Your Translation");r(t,c)},$$slots:{default:!0}});var W=a(H,2);qr(W,{id:"attempt",placeholder:"Type your translation...",onkeydown:t=>t.key==="Enter"&&e(m).trim()&&ar(),get value(){return e(m)},set value(t){q(m,t,!0)}}),o(j);var v=a(j,2),d=s(v);{let t=rr(()=>!e(m).trim());tr(d,{onclick:ar,class:"flex-1",size:"lg",get disabled(){return e(t)},children:(u,c)=>{L();var E=P("Check Answer");r(u,E)},$$slots:{default:!0}})}var p=a(d,2);tr(p,{onclick:()=>{q(F,!0),q(K,!0)},variant:"outline",size:"lg",children:(t,u)=>{L();var c=P("Skip");r(t,c)},$$slots:{default:!0}}),o(v),o(k),r(h,k)},Cr=h=>{var k=Z(),j=w(k);{var H=v=>{var d=Nr(),p=s(d),t=a(s(p),2),u=s(t,!0);o(t);var c=a(t,2);{var E=i=>{var y=Kr();r(i,y)},Q=i=>{var y=Mr();r(i,y)};x(c,i=>{e(z)?i(E):i(Q,!1)})}o(p);var C=a(p,2);tr(C,{onclick:fr,class:"w-full",size:"lg",children:(i,y)=>{L();var J=P();T(()=>D(J,e(z)?"See Translation":"Reveal Correct Answer")),r(i,J)},$$slots:{default:!0}}),o(d),T(()=>{vr(p,1,`border-2 p-6 ${e(z)?"border-green-500 bg-green-50 dark:bg-green-950":"border-orange-500 bg-orange-50 dark:bg-orange-950"}`),D(u,e(m)||"(skipped)")}),r(v,d)},W=v=>{var d=Vr(),p=s(d);{var t=Q=>{var C=Ur(),i=a(s(C),2),y=s(i,!0);o(i);var J=a(i,2);{var yr=X=>{var Pr=Or();r(X,Pr)};x(J,X=>{e(z)&&X(yr)})}o(C),T(()=>{vr(C,1,`rounded-lg border-2 p-6 ${e(z)?"border-green-500 bg-green-50 dark:bg-green-950":"border-orange-500 bg-orange-50 dark:bg-orange-950"}`),D(y,e(m))}),r(Q,C)};x(p,Q=>{e(m)&&Q(t)})}var u=a(p,2),c=a(s(u),2),E=s(c,!0);o(c),o(u),o(d),T(()=>D(E,g.data.translation)),r(v,d)};x(j,v=>{e(K)?v(W,!1):v(H)},!0)}r(h,k)};x(hr,h=>{e(F)?h(Cr,!1):h(kr)})}T(()=>D($r,g.data.english)),r($,G)};x(U,$=>{g.error||!g.data?$(Y):$(br,!1)},!0)}r(n,_)};x(b,n=>{g.isLoading?n(O):n(R,!1)})}r(I,f)},$$slots:{default:!0}})});var xr=a(ir,2);A(xr,()=>Er,(S,B)=>{B(S,{class:"justify-center",children:(I,nr)=>{var f=Xr();T(b=>Ar(f,"href",b),[()=>Tr("/")]),r(I,f)},$$slots:{default:!0}})}),r(gr,or)},$$slots:{default:!0}})}),o(M),r(pr,M),Lr()}export{ge as component};

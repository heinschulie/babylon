import{a as i,f as l,c as q}from"../chunks/1f615a2c.js";import{p as da,t as m,a as ca,i as s,o as na,c as t,n as pa,r as a,s as v,f as R}from"../chunks/8b0cb860.js";import{s as d}from"../chunks/63f41f2c.js";import{i as u}from"../chunks/c17651b9.js";import{e as ma,i as ua}from"../chunks/62e4c738.js";import{c as J}from"../chunks/c1381360.js";import{r as _a,s as z}from"../chunks/0701c483.js";import{p as fa}from"../chunks/4b7ed212.js";import{a as xa}from"../chunks/fb331d7f.js";import{C as ha}from"../chunks/840838e0.js";import{C as ga}from"../chunks/3cc6752e.js";import{a as ba}from"../chunks/b1448760.js";var wa=l('<p class="text-muted-foreground">Loading session...</p>'),ka=l('<p class="text-destructive"> </p>'),Ra=l('<p class="text-muted-foreground">Session not found.</p>'),Sa=l('<p class="text-sm"> </p> <p class="meta-text"> </p> <p class="meta-text"> </p>',1),ya=l('<div class="mt-2"><p class="info-kicker mb-1">Learner Audio</p> <audio controls class="audio-playback w-full"></audio></div>'),$a=l('<p class="meta-text mt-2"> </p>'),Aa=l('<div class="mt-2"><p class="info-kicker mb-1">Verifier Example</p> <audio controls class="audio-playback w-full"></audio></div>'),La=l('<div class="mt-3 border border-border/50 bg-muted/40 p-3 text-sm"><p class="font-semibold"> </p> <p class="meta-text mt-1"> </p> <!></div>'),Pa=l('<li class="border border-border/60 bg-background/70 p-4"><p class="meta-text"> </p> <p class="mt-1 font-semibold"> </p> <p class="meta-text text-primary"> </p> <!> <!> <!></li>'),Da=l('<!> <ul class="space-y-3"></ul>',1),Ca=l('<div class="page-shell page-shell--narrow page-stack"><div class="page-stack"><a class="meta-text underline">&larr; Back to Practice Sessions</a> <h1 class="text-5xl sm:text-6xl">Practice Session Detail</h1></div> <!></div>');function Ga(K,M){da(M,!0);const O=na(()=>fa.params.id),c=ba(xa.attempts.listByPracticeSession,()=>({practiceSessionId:s(O)}));var P=Ca(),D=t(P),W=t(D);pa(2),a(D);var X=v(D,2);{var Y=p=>{var S=wa();i(p,S)},Z=p=>{var S=q(),aa=R(S);{var ra=_=>{var f=ka(),C=t(f,!0);a(f),m(()=>d(C,c.error.message)),i(_,f)},ea=_=>{var f=q(),C=R(f);{var ta=x=>{var y=Ra();i(x,y)},sa=x=>{var y=Da(),G=R(y);J(G,()=>ha,(T,r)=>{r(T,{class:"border border-border/60 bg-background/85 backdrop-blur-sm",children:(g,$)=>{var A=q(),b=R(A);J(b,()=>ga,(U,w)=>{w(U,{children:(E,I)=>{var L=Sa(),h=R(L),B=t(h);a(h);var k=v(h,2),V=t(k);a(k);var e=v(k,2),o=t(e);a(e),m((n,F)=>{d(B,`Started: ${n??""}`),d(V,`Ended:
					${F??""}`),d(o,`Total attempts: ${c.data.attempts.length??""}`)},[()=>new Date(c.data.practiceSession.startedAt).toLocaleString(),()=>c.data.practiceSession.endedAt?new Date(c.data.practiceSession.endedAt).toLocaleString():"Still active"]),i(E,L)},$$slots:{default:!0}})}),i(g,A)},$$slots:{default:!0}})});var H=v(G,2);ma(H,21,()=>c.data.attempts,ua,(T,r)=>{var g=Pa(),$=t(g),A=t($,!0);a($);var b=v($,2),U=t(b,!0);a(b);var w=v(b,2),E=t(w,!0);a(w);var I=v(w,2);{var L=e=>{var o=ya(),n=v(t(o),2);a(o),m(()=>z(n,"src",s(r).audioUrl)),i(e,o)};u(I,e=>{s(r).audioUrl&&e(L)})}var h=v(I,2);{var B=e=>{var o=$a(),n=t(o,!0);a(o),m(()=>d(n,s(r).feedbackText)),i(e,o)};u(h,e=>{s(r).feedbackText&&e(B)})}var k=v(h,2);{var V=e=>{var o=La(),n=t(o),F=t(n);a(n);var N=v(n,2),ia=t(N);a(N);var oa=v(N,2);{var va=Q=>{var j=Aa(),la=v(t(j),2);a(j),m(()=>z(la,"src",s(r).humanReview.initialReview.audioUrl)),i(Q,j)};u(oa,Q=>{s(r).humanReview.initialReview.audioUrl&&Q(va)})}a(o),m(()=>{d(F,`Verifier: ${s(r).humanReview.initialReview.verifierFirstName??""}`),d(ia,`Sound ${s(r).humanReview.initialReview.soundAccuracy??""}/5 • Rhythm
								${s(r).humanReview.initialReview.rhythmIntonation??""}/5 • Phrase
								${s(r).humanReview.initialReview.phraseAccuracy??""}/5`)}),i(e,o)};u(k,e=>{s(r).humanReview?.initialReview&&e(V)})}a(g),m(e=>{d(A,e),d(U,s(r).phraseEnglish),d(E,s(r).phraseTranslation)},[()=>new Date(s(r).createdAt).toLocaleString()]),i(T,g)}),a(H),i(x,y)};u(C,x=>{c.data?x(sa,!1):x(ta)},!0)}i(_,f)};u(aa,_=>{c.error?_(ra):_(ea,!1)},!0)}i(p,S)};u(X,p=>{c.isLoading?p(Y):p(Z,!1)})}a(P),m(p=>z(W,"href",p),[()=>_a("/practice")]),i(K,P),ca()}export{Ga as component};
